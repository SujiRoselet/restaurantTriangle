(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{21:function(t,e,a){t.exports=a(45)},45:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(19),s=a.n(i),o=a(2),l=a(3),u=a(5),c=a(4),h=a(6),m=a(20),d=a.n(m),p=function(){var t=d.a.create({headers:{"Content-Type":"application/json"}});return t.interceptors.request.use((function(t){return t.headers["user-key"]=h.API_KEY.ZOMATO,t})),t}(),f=(a(8),a(7)),g=a.n(f),v=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).findArea=function(){var e=t.map.getObjects();t.homeToNearestPoint=e[0].getGeometry().distance(e[1].getGeometry()),t.nearestToFarthestPoint=e[1].getGeometry().distance(e[2].getGeometry()),t.farthestToNearestPoint=e[2].getGeometry().distance(e[0].getGeometry()),t.homeToNearestPoint=g()(t.homeToNearestPoint),t.nearestToFarthestPoint=g()(t.nearestToFarthestPoint),t.farthestToNearestPoint=g()(t.farthestToNearestPoint);var a=t.homeToNearestPoint+t.nearestToFarthestPoint+t.farthestToNearestPoint,n=a/2,r=n*((n-t.homeToNearestPoint)*(n-t.nearestToFarthestPoint)*(n-t.farthestToNearestPoint));t.setState({areaOfTriangleOfStaright:Math.sqrt(r).toFixed(2),timeTakenToCross:a/5,viewFlag:!0})},t.map=null,t.homeToNearestPoint=null,t.nearestToFarthestPoint=null,t.farthestToNearestPoint=null,t.state={areaOfTriangleOfStaright:null,timeTakenToCross:null,viewFlag:!1},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.map=this.props.Map}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid"},r.a.createElement("button",{className:"button",onClick:this.findArea},"Find Area Of Triangle"),this.state.viewFlag?r.a.createElement("div",null,r.a.createElement("span",null,"Area Of Triangle : ",this.state.areaOfTriangleOfStaright," Km"),r.a.createElement("br",null),r.a.createElement("span",null,"Time Taken To Walk : ",this.state.timeTakenToCross," Hr"),r.a.createElement("br",null)):null)}}]),a}(r.a.Component),T=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).calculateRoute=function(){if(t.restaurantList){var e=t.platform.getRoutingService(),a={mode:"shortest;car",representation:"display",routeattributes:"waypoints,summary,shape,legs",maneuverattributes:"direction,action",waypoint0:t.restaurantList[0].latitude+","+t.restaurantList[0].longitude,waypoint1:t.restaurantList[1].latitude+","+t.restaurantList[1].longitude,waypoint2:t.restaurantList[2].latitude+","+t.restaurantList[2].longitude,waypoint3:t.restaurantList[0].latitude+","+t.restaurantList[0].longitude};e.calculateRoute(a,t.onSuccess,t.onError)}},t.onSuccess=function(e){var a=e.response.route[0];t.addRouteShapeToMap(a),t.addSummaryToPanel(a.summary)},t.map=null,t.restaurantList=null,t.platform=null,t.state={distance:null,timeTaken:null,viewFlag:!1},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.map=this.props.Map,this.restaurantList=this.props.restaurantList,this.platform=this.props.Platform}},{key:"onError",value:function(t){alert("Can't reach the remote server")}},{key:"addRouteShapeToMap",value:function(t){var e,a=new window.H.geo.LineString;t.shape.forEach((function(t){var e=t.split(",");a.pushLatLngAlt(e[0],e[1])})),e=new window.H.map.Polyline(a,{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}}),this.map.addObject(e),this.map.getViewModel().setLookAtData({bounds:e.getBoundingBox()})}},{key:"addSummaryToPanel",value:function(t){var e=g()(t.distance);this.setState({distance:e,timeTaken:e/5,viewFlag:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid"},r.a.createElement("button",{className:"button",onClick:this.calculateRoute},"Find Area Of Triangle Whose Edges are Actual Car Driving Distance"),this.state.viewFlag?r.a.createElement("div",null,r.a.createElement("span",null,"Distance Between the Points : ",this.state.distance," Km"),r.a.createElement("br",null),r.a.createElement("span",null,"Time Taken To Walk : ",this.state.timeTaken," Hr")):null)}}]),a}(r.a.Component),w=a(9),y=a.n(w),E=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).platform=null,t.map=null,t.summary=null,t.state={apikey:h.API_KEY.HERE_MAP,lat:8.22357,lng:77.352112,zoom:10,restaurantList:[]},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){e&&e.coords&&t.setState({lat:e.coords.latitude,lng:e.coords.longitude}),t.drawMap()})):this.drawMap()}},{key:"drawMap",value:function(){this.platform=new window.H.service.Platform(this.state);var t=this.platform.createDefaultLayers();this.map=new window.H.Map(document.getElementById("map"),t.raster.normal.map,{zoom:this.state.zoom,center:{lat:this.state.lat,lng:this.state.lng}});var e=new window.H.mapevents.MapEvents(this.map);new window.H.mapevents.Behavior(e),window.H.ui.UI.createDefault(this.map,t),this.getRestaurantDetails()}},{key:"addMarkers",value:function(){var t=this;this.state.restaurantList&&this.state.restaurantList.forEach((function(e){var a=parseFloat(e.latitude),n=parseFloat(e.longitude),r='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect stroke="white" fill="#1ad1ff" x="1" y="1" width="22" height="22" /><text x="12" y="18" font-size="12pt" font-family="Arial" font-weight="bold" text-anchor="middle" fill="white">'+e.label+"</text></svg>",i=new window.H.map.Icon(r),s={lat:a,lng:n},o=new window.H.map.Marker(s,{icon:i});t.map.addObject(o)}))}},{key:"getRequiredRestaurant",value:function(t){var e=[],a={latitude:this.state.lat,longitude:this.state.lng,label:"H"};e.push(a);var n=y.a.minBy(t,(function(t){if("0.0000000000"!==t.restaurant.location.latitude&&"0.0000000000"!==t.restaurant.location.longitude)return t.restaurant.location.latitude&&t.restaurant.location.longitude}));n&&(n.restaurant.location.label="N",e.push(n.restaurant.location));var r=y.a.maxBy(t,(function(t){if("0.0000000000"!==t.restaurant.location.latitude&&"0.0000000000"!==t.restaurant.location.longitude)return t.restaurant.location.latitude&&t.restaurant.location.longitude}));r&&(r.restaurant.location.label="F",e.push(r.restaurant.location)),this.setState({restaurantList:e}),e.length&&this.addMarkers()}},{key:"getRestaurantDetails",value:function(){var t=this,e=h.BASE_URL+h.END_POINTS.GET_RESTATRUANT_DETAILS+"?lat="+this.state.lat+"&lon="+this.state.lng;p.get(e).then((function(e){if(e&&200===e.status&&e.data&&e.data.nearby_restaurants&&e.data.nearby_restaurants.length){var a=e.data.nearby_restaurants;t.getRequiredRestaurant(a)}}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"map",style:{width:"100%",height:"500px",background:"grey"}}),this.map?r.a.createElement(v,{Map:this.map}):null,this.map?r.a.createElement(T,{Map:this.map,Platform:this.platform,restaurantList:this.state.restaurantList}):null)}}]),a}(n.Component),b=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))}}]),a}(n.Component);s.a.render(r.a.createElement(b,null),document.getElementById("root"))},6:function(t){t.exports=JSON.parse('{"API_KEY":{"HERE_MAP":"f5vlzAQhxNHz_5HU3vM_ogyw26sOHvFmSwQ3M_gAqvI","ZOMATO":"b369e1d2cc19f99e50a2afabee689085"},"BASE_URL":"https://developers.zomato.com/api/v2.1/","END_POINTS":{"GET_RESTATRUANT_DETAILS":"geocode"}}')},7:function(t,e){t.exports=function(t){var e=t/1e3;return Math.ceil(e)}},8:function(t,e,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.3939c648.chunk.js.map